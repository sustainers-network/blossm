domain: connection
service: system

actions:
  - open

schema:
  opened: Date
  terminated: Date
  scene:
    root: String
    service: String
    network: String
  key:
    root: String
    service: String
    network: String

testing:
  examples:
    - action: open
      payload:
        opened: 2020-12-31T00:00:00.000Z
        key:
          root: some-key-root
          service: some-key-service
          network: some.key-network
        scene:
          root: some-scene-root
          service: some-scene-service
          network: some.scene-network
    - action: open
      payload:
        opened: 2020-11-31T00:00:00.000Z
        key:
          root: some-other-key-root
          service: some-other-key-service
          network: some.other-key-network
        scene:
          root: some-other-scene-root
          service: some-other-scene-service
          network: some.other-scene-network

  handlers:
    - action: open
      examples:
        - payload:
            opened: 2020-11-31T00:00:00.000Z
            key:
              root: some-other-key-root
              service: some-other-key-service
              network: some.other-key-network
            scene:
              root: some-other-scene-root
              service: some-other-scene-service
              network: some.other-scene-network

#don't change
procedure: event-store
